CREATE TABLE ORDERS (CREATEDATE TIMESTAMP NULL, LASTMODIFIED TIMESTAMP NULL, VERSION NUMBER(19) NULL, OID VARCHAR(36), bidderid VARCHAR(36), PRIMARY KEY (OID));
CREATE TABLE USERS (USERTYPE VARCHAR2(1) NULL, OID VARCHAR(36), EMAIL VARCHAR2(255) NULL, FISRTNAME VARCHAR2(255) NOT NULL, LASTMODIFIED TIMESTAMP NULL, LASTNAME VARCHAR2(255) NOT NULL, PASSWORD VARCHAR2(255) NOT NULL, PHONE VARCHAR2(255) NULL, USERNAME VARCHAR2(255) NOT NULL, VERSION NUMBER(19) NULL, CITY VARCHAR2(255) NULL, COUNTRY VARCHAR2(255) NULL, STATE VARCHAR2(255) NULL, STREELINE2 VARCHAR2(255) NULL, STREETLINE1 VARCHAR2(255) NULL, ZIPCODE VARCHAR2(255) NULL, billingInfoid VARCHAR(36), PRIMARY KEY (OID));
CREATE TABLE USERSPICTURE (OID VARCHAR(36), PICTURE BLOB NULL, PRIMARY KEY (OID));
CREATE TABLE BIDDER (OID VARCHAR(36), BIDFRECUENCY NUMBER(19,4) NULL, PRIMARY KEY (OID));
CREATE TABLE CATEGORY (DESCRIPTION VARCHAR2(255) NULL, LASTMODIFIED TIMESTAMP NULL, NAME VARCHAR2(255) NULL, VERSION NUMBER(19) NULL, OID VARCHAR(36), parentCategoryid VARCHAR(36), PRIMARY KEY (OID));
CREATE TABLE CONTACTINFO (EMAIL VARCHAR2(255) NULL, FIRSTNAME VARCHAR2(255) NOT NULL, LASTMODIFIED TIMESTAMP NULL, LASTNAME VARCHAR2(255) NULL, PHONE VARCHAR2(255) NULL, VERSION NUMBER(19) NULL, CITY VARCHAR2(255) NULL, COUNTRY VARCHAR2(255) NULL, STATE VARCHAR2(255) NULL, STREELINE2 VARCHAR2(255) NULL, STREETLINE1 VARCHAR2(255) NULL, ZIPCODE VARCHAR2(255) NULL, OID VARCHAR(36), userid VARCHAR(36), PRIMARY KEY (OID));
CREATE TABLE BID (BIDAMOUNT NUMBER(19,4) NULL, BIDDATE TIMESTAMP NULL, LASTMODIFIED TIMESTAMP NULL, VERSION NUMBER(19) NULL, OID VARCHAR(36), bidderid VARCHAR(36), itemid VARCHAR(36), PRIMARY KEY (OID));
CREATE TABLE SELLER (OID VARCHAR(36), CREDITWORTH NUMBER(19,4) NULL, PRIMARY KEY (OID));
CREATE TABLE BILLINGINFO (BANKACCOUNTNUMBER VARCHAR2(255) NULL, BANKNAME VARCHAR2(255) NULL, CREDITCARDEXPIRATION DATE NULL, CREDITCARDNAMBER VARCHAR2(255) NULL, CREDITCARDTYPE VARCHAR2(255) NULL, LASTMODIFIED TIMESTAMP NULL, NAMEONCREDITCARD VARCHAR2(255) NULL, ROUTINGNUMBER VARCHAR2(255) NULL, VERSION NUMBER(19) NULL, OID VARCHAR(36), PRIMARY KEY (OID));
CREATE TABLE ITEM (BIDENDDATE TIMESTAMP NULL, BIDSTARTDATE TIMESTAMP NULL, DESCRIPTION CLOB NULL, INITIALPRICE NUMBER(19,4) NULL, LASTMODIFIED TIMESTAMP NULL, PICTURE BLOB NULL, POSTDATE TIMESTAMP NULL, TITLE VARCHAR2(255) NULL, VERSION NUMBER(19) NULL, OID VARCHAR(36), orderid VARCHAR(36), sellerid VARCHAR(36), PRIMARY KEY (OID));
CREATE TABLE category_items (categoryid VARCHAR(36), itemid VARCHAR(36), PRIMARY KEY (categoryid, itemid));
CREATE TABLE users_category (categoryid VARCHAR(36), userid VARCHAR(36), PRIMARY KEY (categoryid, userid));
ALTER TABLE ORDERS ADD CONSTRAINT FK_ORDERS_bidderid FOREIGN KEY (bidderid) REFERENCES USERS (OID);
ALTER TABLE USERS ADD CONSTRAINT FK_USERS_billingInfoid FOREIGN KEY (billingInfoid) REFERENCES BILLINGINFO (OID);
ALTER TABLE USERSPICTURE ADD CONSTRAINT FK_USERSPICTURE_OID FOREIGN KEY (OID) REFERENCES USERS (OID);
ALTER TABLE BIDDER ADD CONSTRAINT FK_BIDDER_OID FOREIGN KEY (OID) REFERENCES USERS (OID);
ALTER TABLE CATEGORY ADD CONSTRAINT FK_CATEGORY_parentCategoryid FOREIGN KEY (parentCategoryid) REFERENCES CATEGORY (OID);
ALTER TABLE CONTACTINFO ADD CONSTRAINT FK_CONTACTINFO_userid FOREIGN KEY (userid) REFERENCES USERS (OID);
ALTER TABLE BID ADD CONSTRAINT FK_BID_itemid FOREIGN KEY (itemid) REFERENCES ITEM (OID);
ALTER TABLE BID ADD CONSTRAINT FK_BID_bidderid FOREIGN KEY (bidderid) REFERENCES USERS (OID);
ALTER TABLE SELLER ADD CONSTRAINT FK_SELLER_OID FOREIGN KEY (OID) REFERENCES USERS (OID);
ALTER TABLE ITEM ADD CONSTRAINT FK_ITEM_sellerid FOREIGN KEY (sellerid) REFERENCES USERS (OID);
ALTER TABLE ITEM ADD CONSTRAINT FK_ITEM_orderid FOREIGN KEY (orderid) REFERENCES ORDERS (OID);
ALTER TABLE category_items ADD CONSTRAINT FK_category_items_itemid FOREIGN KEY (itemid) REFERENCES ITEM (OID);
ALTER TABLE category_items ADD CONSTRAINT FK_category_items_categoryid FOREIGN KEY (categoryid) REFERENCES CATEGORY (OID);
ALTER TABLE users_category ADD CONSTRAINT FK_users_category_userid FOREIGN KEY (userid) REFERENCES USERS (OID);
ALTER TABLE users_category ADD CONSTRAINT FK_users_category_categoryid FOREIGN KEY (categoryid) REFERENCES CATEGORY (OID);

select * from USERSPICTURE;  
truncate table USERSPICTURE;
select * from users;
delete from users;
truncate table users;
select * from BIDDER;
truncate table bidder;
select * from CATEGORY;
select * from CONTACTINFO;
select * from BID;
truncate table BID;
select * from SELLER;
select * from BILLINGINFO;
select * from ITEM;
delete from item;
truncate table Item;
select * from category_items;
truncate table category_items;
select * from users_category;
select * from orders;

ALTER TABLE ORDERS DROP CONSTRAINT FK_ORDERS_bidderid;
ALTER TABLE USERS DROP CONSTRAINT FK_USERS_billingInfoid;
ALTER TABLE USERSPICTURE DROP CONSTRAINT FK_USERSPICTURE_OID;
ALTER TABLE BIDDER DROP CONSTRAINT FK_BIDDER_OID;
ALTER TABLE CATEGORY DROP CONSTRAINT FK_CATEGORY_parentCategoryid;
ALTER TABLE CONTACTINFO DROP CONSTRAINT FK_CONTACTINFO_userid;
ALTER TABLE BID DROP CONSTRAINT FK_BID_itemid;
ALTER TABLE BID DROP CONSTRAINT FK_BID_bidderid;
ALTER TABLE SELLER DROP CONSTRAINT FK_SELLER_OID;
ALTER TABLE ITEM DROP CONSTRAINT FK_ITEM_sellerid;
ALTER TABLE ITEM DROP CONSTRAINT FK_ITEM_orderid;
ALTER TABLE category_items DROP CONSTRAINT FK_category_items_itemid;
ALTER TABLE category_items DROP CONSTRAINT FK_category_items_categoryid;
ALTER TABLE users_category DROP CONSTRAINT FK_users_category_userid;
ALTER TABLE users_category DROP CONSTRAINT FK_users_category_categoryid;
DROP TABLE ORDERS;
DROP TABLE USERS;
DROP TABLE USERSPICTURE;
DROP TABLE BIDDER;
DROP TABLE CATEGORY;
DROP TABLE CONTACTINFO;
DROP TABLE BID;
DROP TABLE SELLER;
DROP TABLE BILLINGINFO;
DROP TABLE ITEM;
DROP TABLE category_items;
DROP TABLE users_category;
